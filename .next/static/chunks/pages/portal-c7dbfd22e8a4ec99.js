(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{6326:function(f,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portal",function(){return t(7068)}])},7068:function(f,e,t){"use strict";t.r(e),t.d(e,{default:function(){return D}});var n=t(5893),r=t(9775),b=t(3783),a=t(4051),c=t.n(a),o=t(7294),i=t(9795),u="0xB06BC69B3b78CbD3525F6C71243ed324A50708c6",s=t(4146),l=t(3651);function d(f,e){(null==e||e>f.length)&&(e=f.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=f[t];return n}function p(f,e){if(!(f instanceof e))throw new TypeError("Cannot call a class as a function")}function y(f,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,n.key,n)}}function m(f,e,t){return m="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(f,e,t){var n=function(f,e){for(;!Object.prototype.hasOwnProperty.call(f,e)&&null!==(f=v(f)););return f}(f,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(t):r.value}},m(f,e,t||f)}function v(f){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},v(f)}function h(f,e){return!e||"object"!==x(e)&&"function"!==typeof e?function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f):e}function g(f,e){return g=Object.setPrototypeOf||function(f,e){return f.__proto__=e,f},g(f,e)}function w(f){return function(f){if(Array.isArray(f))return d(f)}(f)||function(f){if("undefined"!==typeof Symbol&&null!=f[Symbol.iterator]||null!=f["@@iterator"])return Array.from(f)}(f)||function(f,e){if(!f)return;if("string"===typeof f)return d(f,e);var t=Object.prototype.toString.call(f).slice(8,-1);"Object"===t&&f.constructor&&(t=f.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(f,e)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(f){return f&&"undefined"!==typeof Symbol&&f.constructor===Symbol?"symbol":typeof f};function j(f){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(f){return!1}}();return function(){var t,n=v(f);if(e){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return h(this,t)}}var k=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"NewWave",type:"event"},{inputs:[],name:"getAllWaves",outputs:[{components:[{internalType:"address",name:"waver",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct WavePortal.Wave[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalWaves",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUserWaveCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWavedAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userWaveCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_message",type:"string"}],name:"wave",outputs:[],stateMutability:"nonpayable",type:"function"}],T="0x60806040526200004f6040518060400160405280600b81526020017f4974277320616c697665210000000000000000000000000000000000000000008152506200007760201b620008201760201c565b606444426200005f9190620001c4565b6200006b919062000261565b60018190555062000308565b62000117816040516024016200008e919062000184565b6040516020818303038152906040527f41304fac000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506200011a60201b60201c565b50565b60008151905060006a636f6e736f6c652e6c6f679050602083016000808483855afa5050505050565b60006200015082620001a8565b6200015c8185620001b3565b93506200016e8185602086016200022b565b6200017981620002f7565b840191505092915050565b60006020820190508181036000830152620001a0818462000143565b905092915050565b600081519050919050565b600082825260208201905092915050565b6000620001d18262000221565b9150620001de8362000221565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111562000216576200021562000299565b5b828201905092915050565b6000819050919050565b60005b838110156200024b5780820151818401526020810190506200022e565b838111156200025b576000848401525b50505050565b60006200026e8262000221565b91506200027b8362000221565b9250826200028e576200028d620002c8565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000601f19601f8301169050919050565b61140b80620003186000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806325d8c97414610067578063449d46c014610085578063812e8016146100a15780639a2cdc08146100d1578063a42a4663146100ef578063bd43a9081461011f575b600080fd5b61006f61013d565b60405161007c9190610fad565b60405180910390f35b61009f600480360381019061009a9190610c02565b610203565b005b6100bb60048036038101906100b69190610bd9565b610654565b6040516100c89190610fad565b60405180910390f35b6100d961066c565b6040516100e69190610fad565b60405180910390f35b61010960048036038101906101049190610bd9565b6106b7565b6040516101169190610fad565b60405180910390f35b6101276106cf565b6040516101349190610e6b565b60405180910390f35b60006101be6040518060400160405280601981526020017f576520686176652025642077617665732066726f6d2025732100000000000000815250600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054336108b9565b600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b42610384600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461025191906110bf565b10610291576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161028890610f8d565b60405180910390fd5b42600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555060016000808282546102e791906110bf565b9250508190555061032d6040518060400160405280600d81526020017f257320686173207761766564210000000000000000000000000000000000000081525033610958565b6001600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461037d91906110bf565b92505081905550600260405180606001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200183815260200142815250908060018154018082558091505060019003906000526020600020906003020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190610443929190610ab9565b506040820151816002015550506064600154424461046191906110bf565b61046b91906110bf565b61047591906111f6565b6001819055506104bc6040518060400160405280601681526020017f52616e646f6d20232067656e6572617465643a202564000000000000000000008152506001546109f4565b603260015411610601576105046040518060400160405280600d81526020017f2573206765747320706169642100000000000000000000000000000000000000815250610820565b6000655af3107a4000905047811115610552576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054990610f4d565b60405180910390fd5b60003373ffffffffffffffffffffffffffffffffffffffff168260405161057890610e56565b60006040518083038185875af1925050503d80600081146105b5576040519150601f19603f3d011682016040523d82523d6000602084013e6105ba565b606091505b50509050806105fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f590610f6d565b60405180910390fd5b50505b3373ffffffffffffffffffffffffffffffffffffffff167f5f7e16dc676677766a70e9c5628aa6c54ddb8b6e5188e2ae1e1f17f1ffbea7164283604051610649929190610fc8565b60405180910390a250565b60036020528060005260406000206000915090505481565b60006106af6040518060400160405280601781526020017f5765206861766520256420746f74616c207761766573210000000000000000008152506000546109f4565b600054905090565b60046020528060005260406000206000915090505481565b60606002805480602002602001604051908101604052809291908181526020016000905b8282101561081757838290600052602060002090600302016040518060600160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160018201805461077c90611193565b80601f01602080910402602001604051908101604052809291908181526020018280546107a890611193565b80156107f55780601f106107ca576101008083540402835291602001916107f5565b820191906000526020600020905b8154815290600101906020018083116107d857829003601f168201915b50505050508152602001600282015481525050815260200190600101906106f3565b50505050905090565b6108b6816040516024016108349190610e8d565b6040516020818303038152906040527f41304fac000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610a90565b50565b6109538383836040516024016108d193929190610f0f565b6040516020818303038152906040527fe3849f79000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610a90565b505050565b6109f0828260405160240161096e929190610eaf565b6040516020818303038152906040527f319af333000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610a90565b5050565b610a8c8282604051602401610a0a929190610edf565b6040516020818303038152906040527f9710a9d0000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610a90565b5050565b60008151905060006a636f6e736f6c652e6c6f679050602083016000808483855afa5050505050565b828054610ac590611193565b90600052602060002090601f016020900481019282610ae75760008555610b2e565b82601f10610b0057805160ff1916838001178555610b2e565b82800160010185558215610b2e579182015b82811115610b2d578251825591602001919060010190610b12565b5b509050610b3b9190610b3f565b5090565b5b80821115610b58576000816000905550600101610b40565b5090565b6000610b6f610b6a8461101d565b610ff8565b905082815260208101848484011115610b8757600080fd5b610b92848285611151565b509392505050565b600081359050610ba9816113be565b92915050565b600082601f830112610bc057600080fd5b8135610bd0848260208601610b5c565b91505092915050565b600060208284031215610beb57600080fd5b6000610bf984828501610b9a565b91505092915050565b600060208284031215610c1457600080fd5b600082013567ffffffffffffffff811115610c2e57600080fd5b610c3a84828501610baf565b91505092915050565b6000610c4f8383610de8565b905092915050565b610c6081611115565b82525050565b610c6f81611115565b82525050565b6000610c808261105e565b610c8a8185611081565b935083602082028501610c9c8561104e565b8060005b85811015610cd85784840389528151610cb98582610c43565b9450610cc483611074565b925060208a01995050600181019050610ca0565b50829750879550505050505092915050565b6000610cf582611069565b610cff818561109d565b9350610d0f818560208601611160565b610d18816112e3565b840191505092915050565b6000610d2e82611069565b610d3881856110ae565b9350610d48818560208601611160565b610d51816112e3565b840191505092915050565b6000610d696034836110ae565b9150610d74826112f4565b604082019050919050565b6000610d8c6027836110ae565b9150610d9782611343565b604082019050919050565b6000610daf600083611092565b9150610dba82611392565b600082019050919050565b6000610dd26008836110ae565b9150610ddd82611395565b602082019050919050565b6000606083016000830151610e006000860182610c57565b5060208301518482036020860152610e188282610cea565b9150506040830151610e2d6040860182610e38565b508091505092915050565b610e4181611147565b82525050565b610e5081611147565b82525050565b6000610e6182610da2565b9150819050919050565b60006020820190508181036000830152610e858184610c75565b905092915050565b60006020820190508181036000830152610ea78184610d23565b905092915050565b60006040820190508181036000830152610ec98185610d23565b9050610ed86020830184610c66565b9392505050565b60006040820190508181036000830152610ef98185610d23565b9050610f086020830184610e47565b9392505050565b60006060820190508181036000830152610f298186610d23565b9050610f386020830185610e47565b610f456040830184610c66565b949350505050565b60006020820190508181036000830152610f6681610d5c565b9050919050565b60006020820190508181036000830152610f8681610d7f565b9050919050565b60006020820190508181036000830152610fa681610dc5565b9050919050565b6000602082019050610fc26000830184610e47565b92915050565b6000604082019050610fdd6000830185610e47565b8181036020830152610fef8184610d23565b90509392505050565b6000611002611013565b905061100e82826111c5565b919050565b6000604051905090565b600067ffffffffffffffff821115611038576110376112b4565b5b611041826112e3565b9050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006110ca82611147565b91506110d583611147565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561110a57611109611227565b5b828201905092915050565b600061112082611127565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b8381101561117e578082015181840152602081019050611163565b8381111561118d576000848401525b50505050565b600060028204905060018216806111ab57607f821691505b602082108114156111bf576111be611285565b5b50919050565b6111ce826112e3565b810181811067ffffffffffffffff821117156111ed576111ec6112b4565b5b80604052505050565b600061120182611147565b915061120c83611147565b92508261121c5761121b611256565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f547279696e6720746f207769746864726177206d6f7265206d6f6e657920746860008201527f616e2074686520636f6e7472616374206861732e000000000000000000000000602082015250565b7f4661696c656420746f207769746864726177206d6f6e65792066726f6d20636f60008201527f6e74726163742e00000000000000000000000000000000000000000000000000602082015250565b50565b7f576169742031356d000000000000000000000000000000000000000000000000600082015250565b6113c781611115565b81146113d257600080fd5b5056fea2646970667358221220bb7a7f797b86839463d086171ce1d02fd59c22fc443a99d87525c103adf786c164736f6c63430008040033",A=function(f){return f.length>1},O=function(f){!function(f,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),e&&g(f,e)}(b,f);var e,t,n,r=j(b);function b(){for(var f=arguments.length,e=new Array(f),t=0;t<f;t++)e[t]=arguments[t];var n;return p(this,b),(n=A(e)?r.call.apply(r,[this].concat(w(e))):r.call(this,k,T,e[0])).contractName="WavePortalAbi",h(n)}return e=b,n=[{key:"createInterface",value:function(){return new l.vU(k)}},{key:"connect",value:function(f,e){return new s.CH(f,k,e)}}],(t=[{key:"deploy",value:function(f){return m(v(b.prototype),"deploy",this).call(this,f||{})}},{key:"getDeployTransaction",value:function(f){return m(v(b.prototype),"getDeployTransaction",this).call(this,f||{})}},{key:"attach",value:function(f){return m(v(b.prototype),"attach",this).call(this,f)}},{key:"connect",value:function(f){return m(v(b.prototype),"connect",this).call(this,f)}}])&&y(e.prototype,t),n&&y(e,n),b}(s.lV);O.bytecode=T,O.abi=k;var _=t(6486),S=t(8527),N=t(9762),W=t(4612);function C(f,e){(null==e||e>f.length)&&(e=f.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=f[t];return n}function M(f,e,t,n,r,b,a){try{var c=f[b](a),o=c.value}catch(i){return void t(i)}c.done?e(o):Promise.resolve(o).then(n,r)}function P(f){return function(){var e=this,t=arguments;return new Promise((function(n,r){var b=f.apply(e,t);function a(f){M(b,n,r,a,c,"next",f)}function c(f){M(b,n,r,a,c,"throw",f)}a(void 0)}))}}function E(f){return function(f){if(Array.isArray(f))return C(f)}(f)||function(f){if("undefined"!==typeof Symbol&&null!=f[Symbol.iterator]||null!=f["@@iterator"])return Array.from(f)}(f)||function(f,e){if(!f)return;if("string"===typeof f)return C(f,e);var t=Object.prototype.toString.call(f).slice(8,-1);"Object"===t&&f.constructor&&(t=f.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(f,e)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(){var f=(0,i.Ge)(),e=f.account,t=f.library,r=(0,i.Ge)().active,b=(0,o.useState)([{}]),a=b[0],s=b[1],l=(0,o.useState)(""),d=l[0],p=l[1],y=(0,o.useState)(!1),m=y[0],v=y[1],h=(0,o.useRef)((0,_.debounce)(function(){var f=P(c().mark((function f(e){return c().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=p,f.next=3,e;case 3:f.t1=f.sent,(0,f.t0)(f.t1);case 5:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),300)).current,g=function(){var f=P(c().mark((function f(e){return c().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,h(e.target.value);case 2:case"end":return f.stop()}}),f)})));return function(e){return f.apply(this,arguments)}}(),w=function(){var f=P(c().mark((function f(){var e,n;return c().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return e=O.connect(u,t.getSigner()),f.prev=1,f.next=4,e.wave(d,{gasLimit:3e5});case 4:return n=f.sent,console.log("Mining...",n.hash),v(!0),f.next=9,n.wait();case 9:console.log("Mined -- ",n.hash),v(!1),p(""),x(),f.next=20;break;case 15:f.prev=15,f.t0=f.catch(1),console.log("Error, ",f.t0),v(!1),p("");case 20:case"end":return f.stop()}}),f,null,[[1,15]])})));return function(){return f.apply(this,arguments)}}(),x=function(){var f=P(c().mark((function f(){var e,n,r;return c().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return e=O.connect(u,t.getSigner()),f.prev=1,f.next=4,e.getAllWaves();case 4:n=f.sent,r=n.map((function(f){return{address:f.waver,timestamp:new Date(1e3*Number(f.timestamp)),message:f.message}})),s(r),console.log("All waves: ",a),f.next=12;break;case 10:f.prev=10,f.t0=f.catch(1);case 12:case"end":return f.stop()}}),f,null,[[1,10]])})));return function(){return f.apply(this,arguments)}}();return(0,o.useEffect)((function(){var f=O.connect(u,t.getSigner()),e=function(f,e,t){console.log("NewWave",f,e,t),s((function(n){return E(n).concat([{address:f,timestamp:new Date(1e3*Number(e)),message:t}])}))};return f&&f.on("NewWave",e),function(){f&&f.off("NewWave",e)}}),[]),(0,n.jsx)(n.Fragment,{children:e&&r?(0,n.jsx)(S.kC,{className:"waveportal",children:m?(0,n.jsx)("div",{className:"mining"}):(0,n.jsxs)(N.NI,{className:"messenger",children:[(0,n.jsx)(N.lX,{htmlFor:"message"}),(0,n.jsx)(W.II,{bg:"gray.100",defaultValue:d,size:"lg",variant:"outline",className:"rounded",type:"text",placeholder:"holla here!",onBlur:function(f){return g(f)}}),(0,n.jsx)("button",{className:"waveButton",onClick:function(){return w()},children:"\ud83d\udc4b"})]})}):(0,n.jsxs)(S.xv,{fontSize:"md",mt:"3",children:["Connect via ",(0,n.jsx)(S.rU,{fontWeight:"black",href:"https://metamask.io/",children:"MetaMask"})," (rinkeby) and holla!"]})})},R=t(7814),B=t(1436),D=function(){return(0,n.jsx)(b.o,{meta:(0,n.jsx)(r.h,{title:"Web3 Wave Portal",description:"title"}),children:(0,n.jsxs)(S.kC,{direction:"column",children:[(0,n.jsx)(S.M5,{m:"2",children:(0,n.jsxs)(S.X6,{children:["A lil web3 portal ",(0,n.jsx)(R.G,{size:"sm",icon:B.Ji8})]})}),(0,n.jsx)(S.M5,{children:(0,n.jsx)(I,{})})]})})}}},function(f){f.O(0,[523,662,765,937,102,774,888,179],(function(){return e=6326,f(f.s=e);var e}));var e=f.O();_N_E=e}]);